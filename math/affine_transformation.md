文章结构如下：

\1. 仿射变换（affine transformation）

\2. Jacobian 矩阵与行列式

- 2.1 Jacobian 矩阵
- 2.2 Jacobian 行列式
- 2.2.1 线性变换将面积伸缩
- 2.2.2 Jacobian 行列式意义
- 2.2.3 Jacobian 行列式用途

\3. Jacobian 与 Hessian

------

## **1. 仿射变换（affine transformation）**

设 ![A](https://www.zhihu.com/equation?tex=A) 为一 ![n\times n](https://www.zhihu.com/equation?tex=n\times+n) 阶实矩阵， ![\mathbf{b}](https://www.zhihu.com/equation?tex=\mathbf{b}) 是 ![n](https://www.zhihu.com/equation?tex=n) 维向量，定义于几何空间 ![\mathbb{R}^{n}](https://www.zhihu.com/equation?tex=\mathbb{R}^{n}) 的仿射变换具有下列形式：

![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DA\mathbf{x}%2B\mathbf{b}\\)=A\mathbf{x}+\mathbf{b}\\](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%5Cmathbf%7Bx%7D%2B%5Cmathbf%7Bb%7D%5C%5C)

也就是说，仿射变换由一线性变换加上一平移量构成。因为 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{0})%3D\mathbf{b})=\mathbf{b}](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7B0%7D%29%3D%5Cmathbf%7Bb%7D) 。除非平移量 ![\mathbf{b}](https://www.zhihu.com/equation?tex=\mathbf{b}) 为零，仿射变换才是线性变换。仿射变换有两个特殊的性质：共线(collinearity)不变性和比例不变性，意思是 ![\mathbb{R}^{n}](https://www.zhihu.com/equation?tex=\mathbb{R}^{n}) 的任一直线经仿射变换的像(image)仍是一直线，而且直线上各点之间的距离比例维持不变。

*证明：*

设 ![L](https://www.zhihu.com/equation?tex=L) 为 ![\mathbb{R}^{n}](https://www.zhihu.com/equation?tex=\mathbb{R}^{n}) 中任一直线，其表达式为 ![L=\{t\mathbf{v}+\mathbf{u}|t\in \mathbb{R}\}](https://www.zhihu.com/equation?tex=L%3D\{t\mathbf{v}%2B\mathbf{u}|t\in+\mathbb{R}\}) ，向量 ![\mathbf{v}\neq \mathbf{0}](https://www.zhihu.com/equation?tex=\mathbf{v}\neq+\mathbf{0}) 代表直线指向， ![\mathbf{u}](https://www.zhihu.com/equation?tex=\mathbf{u})是直线上一点。令 ![\mathbf{p}_1,\mathbf{p}_2,\mathbf{p}_3](https://www.zhihu.com/equation?tex=\mathbf{p}_1%2C\mathbf{p}_2%2C\mathbf{p}_3) 为直线 ![L](https://www.zhihu.com/equation?tex=L) 上的三个相异点，也就是 ![\mathbf{p}_i=t_i\mathbf{v}+\mathbf{u},i=1,2,3](https://www.zhihu.com/equation?tex=\mathbf{p}_i%3Dt_i\mathbf{v}%2B\mathbf{u}%2Ci%3D1%2C2%2C3) ，此三点经仿射变换 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DA\mathbf{x}%2B\mathbf{b})=A\mathbf{x}+\mathbf{b}](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%5Cmathbf%7Bx%7D%2B%5Cmathbf%7Bb%7D) 后的新位置分别为：

![\begin{eqnarray}\mathbf{p}'_i&=&T(https://www.zhihu.com/equation?tex=\begin{eqnarray}\mathbf{p}'_i%26%3D%26T(\mathbf{p}_i)\\+%26%3D%26A(t_i+\mathbf{v}%2B\mathbf{u})%2B\mathbf{b}\\+%26%3D%26t_i+A\mathbf{v}%2BA\mathbf{u}%2B\mathbf{b}%2Ci%3D1%2C2%2C3\end{eqnarray}\\)\\ &=&A(t_i \mathbf{v}+\mathbf{u})+\mathbf{b}\\ &=&t_i A\mathbf{v}+A\mathbf{u}+\mathbf{b},i=1,2,3\end{eqnarray}\\](https://www.zhihu.com/equation?tex=%5Cbegin%7Beqnarray%7D%5Cmathbf%7Bp%7D%27_i%26%3D%26T%28%5Cmathbf%7Bp%7D_i%29%5C%5C+%26%3D%26A%28t_i+%5Cmathbf%7Bv%7D%2B%5Cmathbf%7Bu%7D%29%2B%5Cmathbf%7Bb%7D%5C%5C+%26%3D%26t_i+A%5Cmathbf%7Bv%7D%2BA%5Cmathbf%7Bu%7D%2B%5Cmathbf%7Bb%7D%2Ci%3D1%2C2%2C3%5Cend%7Beqnarray%7D%5C%5C)

令 ![\mathbf{v}'=A\mathbf{v},\mathbf{u}'=A\mathbf{u}+\mathbf{b}](https://www.zhihu.com/equation?tex=\mathbf{v}'%3DA\mathbf{v}%2C\mathbf{u}'%3DA\mathbf{u}%2B\mathbf{b}) ，新的位置可以表示成 ![\mathbf{p}'_i=t_i\mathbf{v}'+\mathbf{u}'](https://www.zhihu.com/equation?tex=\mathbf{p}'_i%3Dt_i\mathbf{v}'%2B\mathbf{u}') ，所以三个点经过仿射变换后仍在同一条直线 ![L'=\{t\mathbf{v}'+\mathbf{u}'|t\in \mathbb{R}\}](https://www.zhihu.com/equation?tex=L'%3D\{t\mathbf{v}'%2B\mathbf{u}'|t\in+\mathbb{R}\}) 。下面计算三点之间的距离比例：
$$
\frac{\left\|\mathbf{p}_{2}^{\prime}-\mathbf{p}_{1}^{\prime}\right\|}{\left\|\mathbf{p}_{3}^{\prime}-\mathbf{p}_{2}^{\prime}\right\|}=\frac{\left\|\left(t_{2}-t_{1}\right) \mathbf{v}^{\prime}\right\|}{\left\|\left(t_{3}-t_{2}\right) \mathbf{v}^{\prime}\right\|}=\frac{\left\|\left(t_{2}-t_{1}\right) \mathbf{v}\right\|}{\left\|\left(t_{3}-t_{2}\right) \mathbf{v}\right\|}=\frac{\left\|\mathbf{p}_{2}-\mathbf{p}_{1}\right\|}{\left\|\mathbf{p}_{3}-\mathbf{p}_{2}\right\|}
$$
证毕。

------

## **2. Jacobian 矩阵与行列式**

假设 ![F:\mathbb{R}^{n}\rightarrow \mathbb{R}^{m}](https://www.zhihu.com/equation?tex=F%3A\mathbb{R}^{n}\rightarrow+\mathbb{R}^{m}) 是这样的一个函数，对于 ![n](https://www.zhihu.com/equation?tex=n) 维实向量 ![\mathbf{x}=(https://www.zhihu.com/equation?tex=\mathbf{x}%3D(x_1%2Cx_2%2C\cdots%2Cx_n)^{T}，F(\mathbf{x}))^{T}，F(\mathbf{x})](https://www.zhihu.com/equation?tex=%5Cmathbf%7Bx%7D%3D%28x_1%2Cx_2%2C%5Ccdots%2Cx_n%29%5E%7BT%7D%EF%BC%8CF%28%5Cmathbf%7Bx%7D%29) 具有下列形式：

![F(https://www.zhihu.com/equation?tex=F(\mathbf{x})%3D\begin{bmatrix}+f_1(x_1%2C\cdots%2Cx_n)\\+\vdots+\\+f_m(x_1%2C\cdots%2Cx_n)+\end{bmatrix}\\)=\begin{bmatrix} f_1(x_1,\cdots,x_n)\\ \vdots \\ f_m(x_1,\cdots,x_n) \end{bmatrix}\\](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bx%7D%29%3D%5Cbegin%7Bbmatrix%7D+f_1%28x_1%2C%5Ccdots%2Cx_n%29%5C%5C+%5Cvdots+%5C%5C+f_m%28x_1%2C%5Ccdots%2Cx_n%29+%5Cend%7Bbmatrix%7D%5C%5C)

其中 ![f_j:D\rightarrow\mathbb{R},D\subseteq\mathbb{R}^n](https://www.zhihu.com/equation?tex=f_j%3AD\rightarrow\mathbb{R}%2CD\subseteq\mathbb{R}^n) 是 ![F](https://www.zhihu.com/equation?tex=F) 的定义域。如果向量函数 ![F](https://www.zhihu.com/equation?tex=F) 的数学形式相当的复杂，一般可以用线性化进行简化。对于单变量函数 ![f(https://www.zhihu.com/equation?tex=f(x))](https://www.zhihu.com/equation?tex=f%28x%29) ，在 ![x=p](https://www.zhihu.com/equation?tex=x%3Dp) 附近我们可以用直线 ![y=ax+b](https://www.zhihu.com/equation?tex=y%3Dax%2Bb) ，近似 ![f(https://www.zhihu.com/equation?tex=f(x))](https://www.zhihu.com/equation?tex=f%28x%29) 。推理至多变量，令 ![T:\mathbb{R}^n\rightarrow \mathbb{R}^m](https://www.zhihu.com/equation?tex=T%3A\mathbb{R}^n\rightarrow+\mathbb{R}^m) 为一个仿射变换，表示如下：

![T(\mathbf{x})=A\mathbf{x}+\mathbf{b}\\](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%5Cmathbf%7Bx%7D%2B%5Cmathbf%7Bb%7D%5C%5C)

其中 ![A](https://www.zhihu.com/equation?tex=A) 为一个 ![m\times n](https://www.zhihu.com/equation?tex=m\times+n) 阶实矩阵， ![\mathbf{b}\in\mathbb{R}^m](https://www.zhihu.com/equation?tex=\mathbf{b}\in\mathbb{R}^m) 。下面解释如何以仿射变化 ![T](https://www.zhihu.com/equation?tex=T) 近似向量函数 ![F](https://www.zhihu.com/equation?tex=F) ，由此衍生出 ![F](https://www.zhihu.com/equation?tex=F) 的导数矩阵，即Jacobian矩阵。



**2.1 Jacobian 矩阵**

我们的目标是在 ![p\in D](https://www.zhihu.com/equation?tex=p\in+D) 的附近范围使用形式简单的仿射变换 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DA\mathbf{x}%2B\mathbf{b})=A\mathbf{x}+\mathbf{b}](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%5Cmathbf%7Bx%7D%2B%5Cmathbf%7Bb%7D) 近似 ![F(https://www.zhihu.com/equation?tex=F(\mathbf{x}))](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bx%7D%29) ，因此在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 点，我们有 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{p})%3DF(\mathbf{p}))=F(\mathbf{p})](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bp%7D%29%3DF%28%5Cmathbf%7Bp%7D%29) 。因为 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DA\mathbf{x}%2B\mathbf{b})=A\mathbf{x}+\mathbf{b}](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%5Cmathbf%7Bx%7D%2B%5Cmathbf%7Bb%7D) ，又有 ![F(https://www.zhihu.com/equation?tex=F(\mathbf{p})%3DA\mathbf{p}%2B\mathbf{b})=A\mathbf{p}+\mathbf{b}](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bp%7D%29%3DA%5Cmathbf%7Bp%7D%2B%5Cmathbf%7Bb%7D) 或 ![\mathbf{b}=F(https://www.zhihu.com/equation?tex=\mathbf{b}%3DF(\mathbf{p})-A\mathbf{p})-A\mathbf{p}](https://www.zhihu.com/equation?tex=%5Cmathbf%7Bb%7D%3DF%28%5Cmathbf%7Bp%7D%29-A%5Cmathbf%7Bp%7D) ，所以

![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DA(\mathbf{x}-\mathbf{p})%2BF(\mathbf{p})\\)=A(\mathbf{x}-\mathbf{p})+F(\mathbf{p})\\](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DA%28%5Cmathbf%7Bx%7D-%5Cmathbf%7Bp%7D%29%2BF%28%5Cmathbf%7Bp%7D%29%5C%5C)

接着要找出 ![A](https://www.zhihu.com/equation?tex=A) 使得仿射变换 ![T](https://www.zhihu.com/equation?tex=T) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 点附近最近似于 ![F](https://www.zhihu.com/equation?tex=F) 。自然地，当 ![\mathbf{x} \rightarrow \mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{x}+\rightarrow+\mathbf{p}) ，符合最近似条件的 ![T](https://www.zhihu.com/equation?tex=T) 应使误差 ![F(https://www.zhihu.com/equation?tex=F(\mathbf{x})-T(\mathbf{x}))-T(\mathbf{x})](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bx%7D%29-T%28%5Cmathbf%7Bx%7D%29) 更快的趋于 ![\mathbf{0}](https://www.zhihu.com/equation?tex=\mathbf{0}) （零向量）。若存在一个 ![m\times n](https://www.zhihu.com/equation?tex=m\times+n) 阶实矩阵 ![A](https://www.zhihu.com/equation?tex=A)使得

![\underset{\mathbf{x} \rightarrow \mathbf{p}}{lim}\frac{F(https://www.zhihu.com/equation?tex=\underset{\mathbf{x}+\rightarrow+\mathbf{p}}{lim}\frac{F(\mathbf{x})-F(\mathbf{p})-A(\mathbf{x}-\mathbf{p})}{\left+\|+\mathbf{x}-\mathbf{p}\right+\|}%3D\mathbf{0}\\)-F(\mathbf{p})-A(\mathbf{x}-\mathbf{p})}{\left \| \mathbf{x}-\mathbf{p}\right \|}=\mathbf{0}\\](https://www.zhihu.com/equation?tex=%5Cunderset%7B%5Cmathbf%7Bx%7D+%5Crightarrow+%5Cmathbf%7Bp%7D%7D%7Blim%7D%5Cfrac%7BF%28%5Cmathbf%7Bx%7D%29-F%28%5Cmathbf%7Bp%7D%29-A%28%5Cmathbf%7Bx%7D-%5Cmathbf%7Bp%7D%29%7D%7B%5Cleft+%5C%7C+%5Cmathbf%7Bx%7D-%5Cmathbf%7Bp%7D%5Cright+%5C%7C%7D%3D%5Cmathbf%7B0%7D%5C%5C)

我们说 ![F:\mathbb{R}^{n}\rightarrow \mathbb{R}^{m}](https://www.zhihu.com/equation?tex=F%3A\mathbb{R}^{n}\rightarrow+\mathbb{R}^{m}) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 可导(differentiable)。为了让 ![\mathbf{x}](https://www.zhihu.com/equation?tex=\mathbf{x}) 从任意方向逼近 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) ，我们另要求 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 是定义域 ![D](https://www.zhihu.com/equation?tex=D) 的一个内点(interior point)，意思是 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 的附近点都属于 ![D](https://www.zhihu.com/equation?tex=D) 。

下面证明若向量函数 ![F](https://www.zhihu.com/equation?tex=F) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 点可导，则 ![A](https://www.zhihu.com/equation?tex=A) 由 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 唯一决定。考虑 ![\mathbb{R}^{n}](https://www.zhihu.com/equation?tex=\mathbb{R}^{n}) 的标准基底 ![\{\mathbf{e}_1,\cdots,\mathbf{e}_2\}](https://www.zhihu.com/equation?tex=\{\mathbf{e}_1%2C\cdots%2C\mathbf{e}_2\}) ，其中 ![\mathbf{e}_j](https://www.zhihu.com/equation?tex=\mathbf{e}_j) 第 ![j](https://www.zhihu.com/equation?tex=j) 元素为1，其余为0。设 ![h](https://www.zhihu.com/equation?tex=h) 为一极小数使得 ![\mathbf{p}+h\mathbf{e}_j,j=1,\cdots,n](https://www.zhihu.com/equation?tex=\mathbf{p}%2Bh\mathbf{e}_j%2Cj%3D1%2C\cdots%2Cn) ，属于定义域 ![D](https://www.zhihu.com/equation?tex=D) 。如果 ![F](https://www.zhihu.com/equation?tex=F) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 可导，就有

![\underset{h \rightarrow 0}{lim}\frac{F(https://www.zhihu.com/equation?tex=\underset{h+\rightarrow+0}{lim}\frac{F(\mathbf{p}%2Bh\mathbf{e}_j)-F(\mathbf{p})-A(h\mathbf{e}_j)}{h}%3D\mathbf{0}%2Cj%3D1%2C\cdots%2Cn\\)-F(\mathbf{p})-A(h\mathbf{e}_j)}{h}=\mathbf{0},j=1,\cdots,n\\](https://www.zhihu.com/equation?tex=%5Cunderset%7Bh+%5Crightarrow+0%7D%7Blim%7D%5Cfrac%7BF%28%5Cmathbf%7Bp%7D%2Bh%5Cmathbf%7Be%7D_j%29-F%28%5Cmathbf%7Bp%7D%29-A%28h%5Cmathbf%7Be%7D_j%29%7D%7Bh%7D%3D%5Cmathbf%7B0%7D%2Cj%3D1%2C%5Ccdots%2Cn%5C%5C)

因为 ![A(https://www.zhihu.com/equation?tex=A(h\mathbf{e}_j)%3Dh(A\mathbf{e}_j))=h(A\mathbf{e}_j)](https://www.zhihu.com/equation?tex=A%28h%5Cmathbf%7Be%7D_j%29%3Dh%28A%5Cmathbf%7Be%7D_j%29) ，可知：

![\underset{h \rightarrow 0}{lim}\frac{F(https://www.zhihu.com/equation?tex=\underset{h+\rightarrow+0}{lim}\frac{F(\mathbf{p}%2Bh\mathbf{e}_j)-F(\mathbf{p})}{h}%3DA\mathbf{e}_j\\)-F(\mathbf{p})}{h}=A\mathbf{e}_j\\](https://www.zhihu.com/equation?tex=%5Cunderset%7Bh+%5Crightarrow+0%7D%7Blim%7D%5Cfrac%7BF%28%5Cmathbf%7Bp%7D%2Bh%5Cmathbf%7Be%7D_j%29-F%28%5Cmathbf%7Bp%7D%29%7D%7Bh%7D%3DA%5Cmathbf%7Be%7D_j%5C%5C)

上式等号左边即为偏导数

![\frac{\partial F}{\partial x_j}(https://www.zhihu.com/equation?tex=\frac{\partial+F}{\partial+x_j}(\mathbf{p})%3D\begin{bmatrix}+\frac{\partial+f_1}{\partial+x_j}(\mathbf{p})\\+\frac{\partial+f_2}{\partial+x_j}(\mathbf{p})\\+\vdots+\\+\frac{\partial+f_m}{\partial+x_j}(\mathbf{p})+\end{bmatrix}\\)=\begin{bmatrix} \frac{\partial f_1}{\partial x_j}(\mathbf{p})\\ \frac{\partial f_2}{\partial x_j}(\mathbf{p})\\ \vdots \\ \frac{\partial f_m}{\partial x_j}(\mathbf{p}) \end{bmatrix}\\](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+F%7D%7B%5Cpartial+x_j%7D%28%5Cmathbf%7Bp%7D%29%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+f_1%7D%7B%5Cpartial+x_j%7D%28%5Cmathbf%7Bp%7D%29%5C%5C+%5Cfrac%7B%5Cpartial+f_2%7D%7B%5Cpartial+x_j%7D%28%5Cmathbf%7Bp%7D%29%5C%5C+%5Cvdots+%5C%5C+%5Cfrac%7B%5Cpartial+f_m%7D%7B%5Cpartial+x_j%7D%28%5Cmathbf%7Bp%7D%29+%5Cend%7Bbmatrix%7D%5C%5C)

等号右边等于矩阵 ![A](https://www.zhihu.com/equation?tex=A) 的第 ![j](https://www.zhihu.com/equation?tex=j) 列，故：

![A=\begin{bmatrix} \frac{\partial f_{1}}{\partial x_{1}}(https://www.zhihu.com/equation?tex=A%3D\begin{bmatrix}+\frac{\partial+f_{1}}{\partial+x_{1}}(\mathbf{p})+%26+\frac{\partial+f_{1}}{\partial+x_{2}}(\mathbf{p})+%26\cdots+%26+\frac{\partial+f_{1}}{\partial+x_{n}}+(\mathbf{p})\\+\frac{\partial+f_{2}}{\partial+x_{1}}(\mathbf{p})+%26+\frac{\partial+f_{2}}{\partial+x_{2}}(\mathbf{p})%26\cdots+%26+\frac{\partial+f_{2}}{\partial+x_{n}}(\mathbf{p})+\\+\vdots+%26+\vdots+%26+\ddots+%26+\vdots+\\+\frac{\partial+f_{m}}{\partial+x_{1}}+(\mathbf{p})+%26\frac{\partial+f_{m}}{\partial+x_{2}}(\mathbf{p})%26\cdots+%26\frac{\partial+f_{m}}{\partial+x_{n}}+(\mathbf{p})+\end{bmatrix}\\) & \frac{\partial f_{1}}{\partial x_{2}}(\mathbf{p}) &\cdots & \frac{\partial f_{1}}{\partial x_{n}} (\mathbf{p})\\ \frac{\partial f_{2}}{\partial x_{1}}(\mathbf{p}) & \frac{\partial f_{2}}{\partial x_{2}}(\mathbf{p})&\cdots & \frac{\partial f_{2}}{\partial x_{n}}(\mathbf{p}) \\ \vdots & \vdots & \ddots & \vdots \\ \frac{\partial f_{m}}{\partial x_{1}} (\mathbf{p}) &\frac{\partial f_{m}}{\partial x_{2}}(\mathbf{p})&\cdots &\frac{\partial f_{m}}{\partial x_{n}} (\mathbf{p}) \end{bmatrix}\\](https://www.zhihu.com/equation?tex=A%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+f_%7B1%7D%7D%7B%5Cpartial+x_%7B1%7D%7D%28%5Cmathbf%7Bp%7D%29+%26+%5Cfrac%7B%5Cpartial+f_%7B1%7D%7D%7B%5Cpartial+x_%7B2%7D%7D%28%5Cmathbf%7Bp%7D%29+%26%5Ccdots+%26+%5Cfrac%7B%5Cpartial+f_%7B1%7D%7D%7B%5Cpartial+x_%7Bn%7D%7D+%28%5Cmathbf%7Bp%7D%29%5C%5C+%5Cfrac%7B%5Cpartial+f_%7B2%7D%7D%7B%5Cpartial+x_%7B1%7D%7D%28%5Cmathbf%7Bp%7D%29+%26+%5Cfrac%7B%5Cpartial+f_%7B2%7D%7D%7B%5Cpartial+x_%7B2%7D%7D%28%5Cmathbf%7Bp%7D%29%26%5Ccdots+%26+%5Cfrac%7B%5Cpartial+f_%7B2%7D%7D%7B%5Cpartial+x_%7Bn%7D%7D%28%5Cmathbf%7Bp%7D%29+%5C%5C+%5Cvdots+%26+%5Cvdots+%26+%5Cddots+%26+%5Cvdots+%5C%5C+%5Cfrac%7B%5Cpartial+f_%7Bm%7D%7D%7B%5Cpartial+x_%7B1%7D%7D+%28%5Cmathbf%7Bp%7D%29+%26%5Cfrac%7B%5Cpartial+f_%7Bm%7D%7D%7B%5Cpartial+x_%7B2%7D%7D%28%5Cmathbf%7Bp%7D%29%26%5Ccdots+%26%5Cfrac%7B%5Cpartial+f_%7Bm%7D%7D%7B%5Cpartial+x_%7Bn%7D%7D+%28%5Cmathbf%7Bp%7D%29+%5Cend%7Bbmatrix%7D%5C%5C)

这个 ![m\times n](https://www.zhihu.com/equation?tex=m\times+n) 阶实举证称为向量函数 ![F](https://www.zhihu.com/equation?tex=F) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 的Jacobian矩阵或导数矩阵(derivative matrix)，记为 ![J(https://www.zhihu.com/equation?tex=J(\mathbf{p}))](https://www.zhihu.com/equation?tex=J%28%5Cmathbf%7Bp%7D%29) 。因此，可导函数 ![F](https://www.zhihu.com/equation?tex=F) 在 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 的最佳仿射近似是

![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})%3DF(\mathbf{p})%2BJ(\mathbf{p})(\mathbf{x}-\mathbf{p})\\)=F(\mathbf{p})+J(\mathbf{p})(\mathbf{x}-\mathbf{p})\\](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29%3DF%28%5Cmathbf%7Bp%7D%29%2BJ%28%5Cmathbf%7Bp%7D%29%28%5Cmathbf%7Bx%7D-%5Cmathbf%7Bp%7D%29%5C%5C)

设 ![\mathbf{h}=\mathbf{x}-\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{h}%3D\mathbf{x}-\mathbf{p}) ，则 ![F(https://www.zhihu.com/equation?tex=F(\mathbf{x})%3DF(\mathbf{p}%2B\mathbf{h}))=F(\mathbf{p}+\mathbf{h})](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bx%7D%29%3DF%28%5Cmathbf%7Bp%7D%2B%5Cmathbf%7Bh%7D%29) 的泰勒展开式为：

![F(https://www.zhihu.com/equation?tex=F(\mathbf{p}%2B\mathbf{h})%3DF(\mathbf{p})%2BJ(\mathbf{p})\mathbf{h}%2Bo(\left+\|+\mathbf{h}\right+\|)^2\\)=F(\mathbf{p})+J(\mathbf{p})\mathbf{h}+o(\left \| \mathbf{h}\right \|)^2\\](https://www.zhihu.com/equation?tex=F%28%5Cmathbf%7Bp%7D%2B%5Cmathbf%7Bh%7D%29%3DF%28%5Cmathbf%7Bp%7D%29%2BJ%28%5Cmathbf%7Bp%7D%29%5Cmathbf%7Bh%7D%2Bo%28%5Cleft+%5C%7C+%5Cmathbf%7Bh%7D%5Cright+%5C%7C%29%5E2%5C%5C)

因为 ![T(\mathbf{p})=F(\mathbf{p})](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bp%7D%29%3DF%28%5Cmathbf%7Bp%7D%29) ，

![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})-T(\mathbf{p})%3DJ(\mathbf{p})(\mathbf{x}-\mathbf{p})\\)-T(\mathbf{p})=J(\mathbf{p})(\mathbf{x}-\mathbf{p})\\](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29-T%28%5Cmathbf%7Bp%7D%29%3DJ%28%5Cmathbf%7Bp%7D%29%28%5Cmathbf%7Bx%7D-%5Cmathbf%7Bp%7D%29%5C%5C)

上式指出仿射变换的改变量 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{x})-T(\mathbf{p}))-T(\mathbf{p})](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bx%7D%29-T%28%5Cmathbf%7Bp%7D%29) 是自变量的改变量 ![\mathbf{x}-\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{x}-\mathbf{p}) 的线性函数。Jacobian矩阵 ![J(https://www.zhihu.com/equation?tex=J(\mathbf{p}))](https://www.zhihu.com/equation?tex=J%28%5Cmathbf%7Bp%7D%29) 即为线性变换矩阵。直白的说，当我们将非线性函数给予线性转换时，Jacobian矩阵就是描述该线性关系的矩阵。

举个例子：极坐标与卡氏坐标的转换：

![\begin{bmatrix}r~cos\theta\\ r~sin\theta\end{bmatrix}=\begin{bmatrix}X(https://www.zhihu.com/equation?tex=\begin{bmatrix}r~cos\theta\\+r~sin\theta\end{bmatrix}%3D\begin{bmatrix}X(r%2C\theta)\\+Y(r%2C\theta)\end{bmatrix}%3D\begin{bmatrix}x\\+y\end{bmatrix}\\)\\ Y(r,\theta)\end{bmatrix}=\begin{bmatrix}x\\ y\end{bmatrix}\\](https://www.zhihu.com/equation?tex=%5Cbegin%7Bbmatrix%7Dr~cos%5Ctheta%5C%5C+r~sin%5Ctheta%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7DX%28r%2C%5Ctheta%29%5C%5C+Y%28r%2C%5Ctheta%29%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7Dx%5C%5C+y%5Cend%7Bbmatrix%7D%5C%5C)

其中 ![r\geqslant 0,0\leqslant \theta \leqslant \pi/2](https://www.zhihu.com/equation?tex=r\geqslant+0%2C0\leqslant+\theta+\leqslant+\pi%2F2) 。

Jacobian矩阵计算如下：

![J(https://www.zhihu.com/equation?tex=J(r%2C\theta)%3D\begin{bmatrix}+\frac{\partial+x}{\partial+r}+%26\frac{\partial+x}{\partial+\theta}+\\+\frac{\partial+y}{\partial+r}+%26+\frac{\partial+y}{\partial+\theta}+\end{bmatrix}%3D\begin{bmatrix}+\frac{\partial+r~cos\theta}{\partial+r}+%26\frac{\partial+r~cos\theta}{\partial+\theta}+\\+\frac{\partial+r~sin\theta}{\partial+r}+%26+\frac{\partial+r~sin\theta}{\partial+\theta}+\end{bmatrix}%3D\begin{bmatrix}+cos\theta%26-rsin\theta+\\+sin\theta+%26+rcos\theta+\end{bmatrix}\\)=\begin{bmatrix} \frac{\partial x}{\partial r} &\frac{\partial x}{\partial \theta} \\ \frac{\partial y}{\partial r} & \frac{\partial y}{\partial \theta} \end{bmatrix}=\begin{bmatrix} \frac{\partial r~cos\theta}{\partial r} &\frac{\partial r~cos\theta}{\partial \theta} \\ \frac{\partial r~sin\theta}{\partial r} & \frac{\partial r~sin\theta}{\partial \theta} \end{bmatrix}=\begin{bmatrix} cos\theta&-rsin\theta \\ sin\theta & rcos\theta \end{bmatrix}\\](https://www.zhihu.com/equation?tex=J%28r%2C%5Ctheta%29%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+r%7D+%26%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Ctheta%7D+%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+r%7D+%26+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Ctheta%7D+%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+r~cos%5Ctheta%7D%7B%5Cpartial+r%7D+%26%5Cfrac%7B%5Cpartial+r~cos%5Ctheta%7D%7B%5Cpartial+%5Ctheta%7D+%5C%5C+%5Cfrac%7B%5Cpartial+r~sin%5Ctheta%7D%7B%5Cpartial+r%7D+%26+%5Cfrac%7B%5Cpartial+r~sin%5Ctheta%7D%7B%5Cpartial+%5Ctheta%7D+%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D+cos%5Ctheta%26-rsin%5Ctheta+%5C%5C+sin%5Ctheta+%26+rcos%5Ctheta+%5Cend%7Bbmatrix%7D%5C%5C)

若 ![\mathbf{u}(https://www.zhihu.com/equation?tex=\mathbf{u}(t)%3D\begin{bmatrix}+r(t)\\+\theta(t)+\end{bmatrix})=\begin{bmatrix} r(t)\\ \theta(t) \end{bmatrix}](https://www.zhihu.com/equation?tex=%5Cmathbf%7Bu%7D%28t%29%3D%5Cbegin%7Bbmatrix%7D+r%28t%29%5C%5C+%5Ctheta%28t%29+%5Cend%7Bbmatrix%7D) 是极坐标平面上的一条曲线， ![\mathbf{x}(https://www.zhihu.com/equation?tex=\mathbf{x}(t)%3D\begin{bmatrix}+x(t)\\+y(t)+\end{bmatrix})=\begin{bmatrix} x(t)\\ y(t) \end{bmatrix}](https://www.zhihu.com/equation?tex=%5Cmathbf%7Bx%7D%28t%29%3D%5Cbegin%7Bbmatrix%7D+x%28t%29%5C%5C+y%28t%29+%5Cend%7Bbmatrix%7D) 是卡式坐标平面的映射曲线，使用链式法则(chain rule)， ![\frac{\mathrm{d} \mathbf{x}}{\mathrm{d} t}](https://www.zhihu.com/equation?tex=\frac{\mathrm{d}+\mathbf{x}}{\mathrm{d}+t}) 和 ![\frac{\mathrm{d}\mathbf{u}}{\mathrm{d} t}](https://www.zhihu.com/equation?tex=\frac{\mathrm{d}\mathbf{u}}{\mathrm{d}+t}) 具有下列关系：

![\frac{\mathrm{d} \mathbf{x}}{\mathrm{d} t}=\begin{bmatrix} \frac{\mathrm{d} x}{\mathrm{d} t}\\ \frac{\mathrm{d} y}{\mathrm{d} t} \end{bmatrix}=\begin{bmatrix} \frac{\partial x}{\partial r}\frac{\mathrm{d} r}{\mathrm{d} t}+\frac{\partial x}{\partial \theta}\frac{\mathrm{d} \theta}{\mathrm{d} t}\\ \frac{\partial y}{\partial r}\frac{\mathrm{d} r}{\mathrm{d} t}+\frac{\partial y}{\partial \theta}\frac{\mathrm{d} \theta}{\mathrm{d} t} \end{bmatrix}=\begin{bmatrix} \frac{\partial x}{\partial r} & \frac{\partial x}{\partial \theta}\\ \frac{\partial y}{\partial r} & \frac{\partial y}{\partial \theta} \end{bmatrix}\begin{bmatrix} \frac{\mathrm{d} r}{\mathrm{d} t}\\ \frac{\mathrm{d} \theta}{\mathrm{d} t} \end{bmatrix}=J(https://www.zhihu.com/equation?tex=\frac{\mathrm{d}+\mathbf{x}}{\mathrm{d}+t}%3D\begin{bmatrix}+\frac{\mathrm{d}+x}{\mathrm{d}+t}\\+\frac{\mathrm{d}+y}{\mathrm{d}+t}+\end{bmatrix}%3D\begin{bmatrix}+\frac{\partial+x}{\partial+r}\frac{\mathrm{d}+r}{\mathrm{d}+t}%2B\frac{\partial+x}{\partial+\theta}\frac{\mathrm{d}+\theta}{\mathrm{d}+t}\\+\frac{\partial+y}{\partial+r}\frac{\mathrm{d}+r}{\mathrm{d}+t}%2B\frac{\partial+y}{\partial+\theta}\frac{\mathrm{d}+\theta}{\mathrm{d}+t}+\end{bmatrix}%3D\begin{bmatrix}+\frac{\partial+x}{\partial+r}+%26+\frac{\partial+x}{\partial+\theta}\\+\frac{\partial+y}{\partial+r}+%26+\frac{\partial+y}{\partial+\theta}+\end{bmatrix}\begin{bmatrix}+\frac{\mathrm{d}+r}{\mathrm{d}+t}\\+\frac{\mathrm{d}+\theta}{\mathrm{d}+t}+\end{bmatrix}%3DJ(r%2C\theta)\frac{\mathrm{d}\mathbf{u}}{\mathrm{d}+t}\\)\frac{\mathrm{d}\mathbf{u}}{\mathrm{d} t}\\](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm%7Bd%7D+%5Cmathbf%7Bx%7D%7D%7B%5Cmathrm%7Bd%7D+t%7D%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cmathrm%7Bd%7D+x%7D%7B%5Cmathrm%7Bd%7D+t%7D%5C%5C+%5Cfrac%7B%5Cmathrm%7Bd%7D+y%7D%7B%5Cmathrm%7Bd%7D+t%7D+%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+r%7D%5Cfrac%7B%5Cmathrm%7Bd%7D+r%7D%7B%5Cmathrm%7Bd%7D+t%7D%2B%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Ctheta%7D%5Cfrac%7B%5Cmathrm%7Bd%7D+%5Ctheta%7D%7B%5Cmathrm%7Bd%7D+t%7D%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+r%7D%5Cfrac%7B%5Cmathrm%7Bd%7D+r%7D%7B%5Cmathrm%7Bd%7D+t%7D%2B%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Ctheta%7D%5Cfrac%7B%5Cmathrm%7Bd%7D+%5Ctheta%7D%7B%5Cmathrm%7Bd%7D+t%7D+%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+r%7D+%26+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Ctheta%7D%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+r%7D+%26+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Ctheta%7D+%5Cend%7Bbmatrix%7D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cmathrm%7Bd%7D+r%7D%7B%5Cmathrm%7Bd%7D+t%7D%5C%5C+%5Cfrac%7B%5Cmathrm%7Bd%7D+%5Ctheta%7D%7B%5Cmathrm%7Bd%7D+t%7D+%5Cend%7Bbmatrix%7D%3DJ%28r%2C%5Ctheta%29%5Cfrac%7B%5Cmathrm%7Bd%7D%5Cmathbf%7Bu%7D%7D%7B%5Cmathrm%7Bd%7D+t%7D%5C%5C)

从几何上说，Jacobian矩阵将极坐标平面的切向量映至卡式坐标平面的切向量。



**2.2 Jacobian 行列式**

- **2.2.1 线性变换将面积伸缩**

考虑从 ![\mathbb{R}^2](https://www.zhihu.com/equation?tex=\mathbb{R}^2) 映射至 ![\mathbb{R}^2](https://www.zhihu.com/equation?tex=\mathbb{R}^2) 的线性变换：

![T(https://www.zhihu.com/equation?tex=T(x%2Cy)%3D\begin{bmatrix}4x-2y\\+2x%2B3y\end{bmatrix}\\)=\begin{bmatrix}4x-2y\\ 2x+3y\end{bmatrix}\\](https://www.zhihu.com/equation?tex=T%28x%2Cy%29%3D%5Cbegin%7Bbmatrix%7D4x-2y%5C%5C+2x%2B3y%5Cend%7Bbmatrix%7D%5C%5C)

设区域 ![S_1=\{(https://www.zhihu.com/equation?tex=S_1%3D\{(x%2Cy)|0\leqslant+x%2Cy\leqslant+1\})|0\leqslant x,y\leqslant 1\}](https://www.zhihu.com/equation?tex=S_1%3D%5C%7B%28x%2Cy%29%7C0%5Cleqslant+x%2Cy%5Cleqslant+1%5C%7D) ，且 ![T(https://www.zhihu.com/equation?tex=T(S_1))](https://www.zhihu.com/equation?tex=T%28S_1%29) 代表 ![S_1](https://www.zhihu.com/equation?tex=S_1) 中所有点经 ![T](https://www.zhihu.com/equation?tex=T) 映射后的集合，求 ![T(https://www.zhihu.com/equation?tex=T(S_1))](https://www.zhihu.com/equation?tex=T%28S_1%29) 的面积。

因为单位正方形可直接用两边 ![\mathbf{e}_1=\begin{bmatrix}1\\ 0\end{bmatrix}](https://www.zhihu.com/equation?tex=\mathbf{e}_1%3D\begin{bmatrix}1\\+0\end{bmatrix}) 和 ![\mathbf{e}_2=\begin{bmatrix}0\\ 1\end{bmatrix}](https://www.zhihu.com/equation?tex=\mathbf{e}_2%3D\begin{bmatrix}0\\+1\end{bmatrix}) 表示，即
![S_1=\{x\mathbf{e}_1+y\mathbf{e}_2|0\leqslant x,y\leqslant 1\}\\](https://www.zhihu.com/equation?tex=S_1%3D\{x\mathbf{e}_1%2By\mathbf{e}_2|0\leqslant+x%2Cy\leqslant+1\}\\)

设 ![A](https://www.zhihu.com/equation?tex=A) 为线性变换 ![T](https://www.zhihu.com/equation?tex=T) 参考标准基底的表示矩阵，就有 ![T(https://www.zhihu.com/equation?tex=T(\mathbf{v})%3DA\mathbf{v})=A\mathbf{v}](https://www.zhihu.com/equation?tex=T%28%5Cmathbf%7Bv%7D%29%3DA%5Cmathbf%7Bv%7D) ，其中 ![A=[\mathbf{a}_1,\mathbf{a}_2]](https://www.zhihu.com/equation?tex=A%3D[\mathbf{a}_1%2C\mathbf{a}_2]) ，上例中 ![A=\begin{bmatrix} 4 &-2 \\ 2 &3 \end{bmatrix}](https://www.zhihu.com/equation?tex=A%3D\begin{bmatrix}+4+%26-2+\\+2+%263+\end{bmatrix}) 。算出 ![x\mathbf{e}_1+y\mathbf{e}_2](https://www.zhihu.com/equation?tex=x\mathbf{e}_1%2By\mathbf{e}_2) 经过 ![T](https://www.zhihu.com/equation?tex=T) 映射的像如下：

![T(https://www.zhihu.com/equation?tex=T(x\mathbf{e}_1%2By\mathbf{e}_2)%3DA(x\mathbf{e}_1%2By\mathbf{e}_2)%3DxA\mathbf{e}_1%2ByA\mathbf{e}_2%3Dx\mathbf{a}_1%2By\mathbf{a}_2\\)=A(x\mathbf{e}_1+y\mathbf{e}_2)=xA\mathbf{e}_1+yA\mathbf{e}_2=x\mathbf{a}_1+y\mathbf{a}_2\\](https://www.zhihu.com/equation?tex=T%28x%5Cmathbf%7Be%7D_1%2By%5Cmathbf%7Be%7D_2%29%3DA%28x%5Cmathbf%7Be%7D_1%2By%5Cmathbf%7Be%7D_2%29%3DxA%5Cmathbf%7Be%7D_1%2ByA%5Cmathbf%7Be%7D_2%3Dx%5Cmathbf%7Ba%7D_1%2By%5Cmathbf%7Ba%7D_2%5C%5C)

也就有：

![T(https://www.zhihu.com/equation?tex=T(S_1)%3D\{x\mathbf{a}_1%2By\mathbf{a}_2|0\leqslant+x%2Cy\leqslant+1\}\\)=\{x\mathbf{a}_1+y\mathbf{a}_2|0\leqslant x,y\leqslant 1\}\\](https://www.zhihu.com/equation?tex=T%28S_1%29%3D%5C%7Bx%5Cmathbf%7Ba%7D_1%2By%5Cmathbf%7Ba%7D_2%7C0%5Cleqslant+x%2Cy%5Cleqslant+1%5C%7D%5C%5C)

这表明 ![T(https://www.zhihu.com/equation?tex=T(S_1))](https://www.zhihu.com/equation?tex=T%28S_1%29) 其实就是 ![A](https://www.zhihu.com/equation?tex=A) 的列向量 ![\mathbf{a}_1](https://www.zhihu.com/equation?tex=\mathbf{a}_1) 和 ![\mathbf{a}_2](https://www.zhihu.com/equation?tex=\mathbf{a}_2) 所表示的平行四边形。二阶矩阵 ![A](https://www.zhihu.com/equation?tex=A) 的行列式绝对值为 ![\mathbf{a}_1](https://www.zhihu.com/equation?tex=\mathbf{a}_1) 和 ![\mathbf{a}_2](https://www.zhihu.com/equation?tex=\mathbf{a}_2) 所形成的平行四边形的面积，故 ![\upsilon (https://www.zhihu.com/equation?tex=\upsilon+(T(S_1))%3D\left+|det+A+\right+|)=\left |det A \right |](https://www.zhihu.com/equation?tex=%5Cupsilon+%28T%28S_1%29%29%3D%5Cleft+%7Cdet+A+%5Cright+%7C) ，这里 ![\upsilon (https://www.zhihu.com/equation?tex=\upsilon+(T(S_1)))](https://www.zhihu.com/equation?tex=%5Cupsilon+%28T%28S_1%29%29) 表示 ![T(https://www.zhihu.com/equation?tex=T(S_1))](https://www.zhihu.com/equation?tex=T%28S_1%29) 的面积。

我们推广一下，考虑 ![S_2](https://www.zhihu.com/equation?tex=S_2) 为二维向量 ![\mathbf{b}_1](https://www.zhihu.com/equation?tex=\mathbf{b}_1) 和 ![\mathbf{b}_2](https://www.zhihu.com/equation?tex=\mathbf{b}_2) 所形成的平行四边形，以同样的方式可得：

![T(https://www.zhihu.com/equation?tex=T(x\mathbf{b}_1%2By\mathbf{b}_2)%3DA(x\mathbf{b}_1%2By\mathbf{b}_2)%3DxA\mathbf{b}_1%2ByA\mathbf{b}_2\\)=A(x\mathbf{b}_1+y\mathbf{b}_2)=xA\mathbf{b}_1+yA\mathbf{b}_2\\](https://www.zhihu.com/equation?tex=T%28x%5Cmathbf%7Bb%7D_1%2By%5Cmathbf%7Bb%7D_2%29%3DA%28x%5Cmathbf%7Bb%7D_1%2By%5Cmathbf%7Bb%7D_2%29%3DxA%5Cmathbf%7Bb%7D_1%2ByA%5Cmathbf%7Bb%7D_2%5C%5C)

因此 ![T(https://www.zhihu.com/equation?tex=T(S_2))](https://www.zhihu.com/equation?tex=T%28S_2%29) 其实为向量 ![A\mathbf{b}_1](https://www.zhihu.com/equation?tex=A\mathbf{b}_1) 和 ![A\mathbf{b}_2](https://www.zhihu.com/equation?tex=A\mathbf{b}_2) 所表示的平行四边形。设 ![B=[\mathbf{b}_1,\mathbf{b}_2]](https://www.zhihu.com/equation?tex=B%3D[\mathbf{b}_1%2C\mathbf{b}_2]) ， ![T(https://www.zhihu.com/equation?tex=T(S_2))](https://www.zhihu.com/equation?tex=T%28S_2%29) 等于矩阵相乘 ![AB=[A\mathbf{b}_1,A\mathbf{b}_2]](https://www.zhihu.com/equation?tex=AB%3D[A\mathbf{b}_1%2CA\mathbf{b}_2]) 的两边所形成的平行四边形，可得：

![\upsilon (https://www.zhihu.com/equation?tex=\upsilon+(T(S_2))%3D\left+|det+(AB)+\right+|%3D\left+|det+A+\right+|\left+|det+B+\right+|\\)=\left |det (AB) \right |=\left |det A \right |\left |det B \right |\\](https://www.zhihu.com/equation?tex=%5Cupsilon+%28T%28S_2%29%29%3D%5Cleft+%7Cdet+%28AB%29+%5Cright+%7C%3D%5Cleft+%7Cdet+A+%5Cright+%7C%5Cleft+%7Cdet+B+%5Cright+%7C%5C%5C)

其中 ![\left |det B \right |](https://www.zhihu.com/equation?tex=\left+|det+B+\right+|) 等于平行四边形 ![S_2](https://www.zhihu.com/equation?tex=S_2) 的面积，可得到：

![\upsilon (https://www.zhihu.com/equation?tex=\upsilon+(T(S_2))%3D\left+|det+A+\right+|\upsilon+(S_2)\\)=\left |det A \right |\upsilon (S_2)\\](https://www.zhihu.com/equation?tex=%5Cupsilon+%28T%28S_2%29%29%3D%5Cleft+%7Cdet+A+%5Cright+%7C%5Cupsilon+%28S_2%29%5C%5C)

这个结果表明平行四边形 ![S_2](https://www.zhihu.com/equation?tex=S_2) 经线性变换 ![T](https://www.zhihu.com/equation?tex=T) （参考标准基底的矩阵表示为 ![A](https://www.zhihu.com/equation?tex=A) ），面积伸缩了 ![\left |det A \right |](https://www.zhihu.com/equation?tex=\left+|det+A+\right+|) 倍。

如果平行四边形 ![S_2](https://www.zhihu.com/equation?tex=S_2) 在平面上移动，前述的结果依然成立吗？考虑

![S_3=\{x\mathbf{b}_1+y\mathbf{b}_2+\mathbf{p}|0\leqslant x,y\leqslant 1\}\\](https://www.zhihu.com/equation?tex=S_3%3D\{x\mathbf{b}_1%2By\mathbf{b}_2%2B\mathbf{p}|0\leqslant+x%2Cy\leqslant+1\}\\)

其中 ![\mathbf{p}](https://www.zhihu.com/equation?tex=\mathbf{p}) 代表平移向量。计算 ![S_3](https://www.zhihu.com/equation?tex=S_3) 各点经过映射的像：

![T(https://www.zhihu.com/equation?tex=T(x\mathbf{b}_1%2By\mathbf{b}_2%2B\mathbf{p})%3DA(x\mathbf{b}_1%2By\mathbf{b}_2%2B\mathbf{p})%3DxA\mathbf{b}_1%2ByA\mathbf{b}_2%2BA\mathbf{p}\\)=A(x\mathbf{b}_1+y\mathbf{b}_2+\mathbf{p})=xA\mathbf{b}_1+yA\mathbf{b}_2+A\mathbf{p}\\](https://www.zhihu.com/equation?tex=T%28x%5Cmathbf%7Bb%7D_1%2By%5Cmathbf%7Bb%7D_2%2B%5Cmathbf%7Bp%7D%29%3DA%28x%5Cmathbf%7Bb%7D_1%2By%5Cmathbf%7Bb%7D_2%2B%5Cmathbf%7Bp%7D%29%3DxA%5Cmathbf%7Bb%7D_1%2ByA%5Cmathbf%7Bb%7D_2%2BA%5Cmathbf%7Bp%7D%5C%5C)

因此可以得到 ![T(https://www.zhihu.com/equation?tex=T(S_3)%3DT(S_2)%2BA\mathbf{p})=T(S_2)+A\mathbf{p}](https://www.zhihu.com/equation?tex=T%28S_3%29%3DT%28S_2%29%2BA%5Cmathbf%7Bp%7D) ，平移量 ![A\mathbf{p}](https://www.zhihu.com/equation?tex=A\mathbf{p}) 并不会改变面积的大小，故任然有 ![\upsilon (https://www.zhihu.com/equation?tex=\upsilon+(T(S_3))%3D\left+|det+A+\right+|\upsilon+(S_2))=\left |det A \right |\upsilon (S_2)](https://www.zhihu.com/equation?tex=%5Cupsilon+%28T%28S_3%29%29%3D%5Cleft+%7Cdet+A+%5Cright+%7C%5Cupsilon+%28S_2%29) 。



- **2.2.2 Jacobian 行列式意义**

若 ![F:\mathbb{R}^{n}\rightarrow \mathbb{R}^{n}](https://www.zhihu.com/equation?tex=F%3A\mathbb{R}^{n}\rightarrow+\mathbb{R}^{n}) 是可导函数，则Jacobian是一个 ![n\times n](https://www.zhihu.com/equation?tex=n\times+n) 阶矩阵，因此可计算行列式。为方便说明，设 ![n=2](https://www.zhihu.com/equation?tex=n%3D2) ，向量函数 ![F](https://www.zhihu.com/equation?tex=F) 将 ![\mathbf{u}=\begin{bmatrix}u\\ \upsilon \end{bmatrix}](https://www.zhihu.com/equation?tex=\mathbf{u}%3D\begin{bmatrix}u\\+\upsilon+\end{bmatrix}) 映射至 ![\mathbf{x}=\begin{bmatrix}x\\ y \end{bmatrix}](https://www.zhihu.com/equation?tex=\mathbf{x}%3D\begin{bmatrix}x\\+y+\end{bmatrix}) ，则 ![F](https://www.zhihu.com/equation?tex=F) 的Jacobian行列式为：

![det ~J(https://www.zhihu.com/equation?tex=det+~J(u%2C\upsilon+)%3D\begin{vmatrix}+\frac{\partial+x}{\partial+u}+%26\frac{\partial+x}{\partial+\upsilon+}+\\+\frac{\partial+y}{\partial+u}+%26\frac{\partial+y}{\partial+\upsilon+}+\end{vmatrix}%3D\frac{\partial+x}{\partial+u}\frac{\partial+y}{\partial+\upsilon+}+-\frac{\partial+x}{\partial+\upsilon+}\frac{\partial+y}{\partial+u}\\ )=\begin{vmatrix} \frac{\partial x}{\partial u} &\frac{\partial x}{\partial \upsilon } \\ \frac{\partial y}{\partial u} &\frac{\partial y}{\partial \upsilon } \end{vmatrix}=\frac{\partial x}{\partial u}\frac{\partial y}{\partial \upsilon } -\frac{\partial x}{\partial \upsilon }\frac{\partial y}{\partial u}\\](https://www.zhihu.com/equation?tex=det+~J%28u%2C%5Cupsilon+%29%3D%5Cbegin%7Bvmatrix%7D+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7D+%26%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7D+%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7D+%26%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7D+%5Cend%7Bvmatrix%7D%3D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7D%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7D+-%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7D%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7D%5C%5C)

令 ![R](https://www.zhihu.com/equation?tex=R) 表示 ![\begin{bmatrix}du\\ 0\end{bmatrix}](https://www.zhihu.com/equation?tex=\begin{bmatrix}du\\+0\end{bmatrix}) 和 ![\begin{bmatrix}0\\ d\upsilon\end{bmatrix}](https://www.zhihu.com/equation?tex=\begin{bmatrix}0\\+d\upsilon\end{bmatrix}) 表示长方形，其中 ![du](https://www.zhihu.com/equation?tex=du) 和 ![d\upsilon](https://www.zhihu.com/equation?tex=d\upsilon) 都是微小的量。若 ![du](https://www.zhihu.com/equation?tex=du) 和 ![d\upsilon](https://www.zhihu.com/equation?tex=d\upsilon) 足够接近0，则 ![F(https://www.zhihu.com/equation?tex=F(R)%3D\{F(\mathbf{u})|\mathbf{u}\in+R\})=\{F(\mathbf{u})|\mathbf{u}\in R\}](https://www.zhihu.com/equation?tex=F%28R%29%3D%5C%7BF%28%5Cmathbf%7Bu%7D%29%7C%5Cmathbf%7Bu%7D%5Cin+R%5C%7D) 近似如下面向量所形成的平行四边形：

![J(https://www.zhihu.com/equation?tex=J(u%2C\upsilon+)\begin{bmatrix}du\\+0\end{bmatrix}%3D\begin{bmatrix}\frac{\partial+x}{\partial+u}+%26+\frac{\partial+x}{\partial+\upsilon+}\\+\frac{\partial+y}{\partial+u}+%26+\frac{\partial+y}{\partial+\upsilon+}\end{bmatrix}\begin{bmatrix}du\\+0\end{bmatrix}%3D\begin{bmatrix}\frac{\partial+x}{\partial+u}du\\+\frac{\partial+y}{\partial+u}du\end{bmatrix}\\ )\begin{bmatrix}du\\ 0\end{bmatrix}=\begin{bmatrix}\frac{\partial x}{\partial u} & \frac{\partial x}{\partial \upsilon }\\ \frac{\partial y}{\partial u} & \frac{\partial y}{\partial \upsilon }\end{bmatrix}\begin{bmatrix}du\\ 0\end{bmatrix}=\begin{bmatrix}\frac{\partial x}{\partial u}du\\ \frac{\partial y}{\partial u}du\end{bmatrix}\\](https://www.zhihu.com/equation?tex=J%28u%2C%5Cupsilon+%29%5Cbegin%7Bbmatrix%7Ddu%5C%5C+0%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7D+%26+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7D%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7D+%26+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7D%5Cend%7Bbmatrix%7D%5Cbegin%7Bbmatrix%7Ddu%5C%5C+0%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7Ddu%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7Ddu%5Cend%7Bbmatrix%7D%5C%5C)

![J(https://www.zhihu.com/equation?tex=J(u%2C\upsilon+)\begin{bmatrix}0\\+d\upsilon\end{bmatrix}%3D\begin{bmatrix}\frac{\partial+x}{\partial+u}+%26+\frac{\partial+x}{\partial+\upsilon+}\\+\frac{\partial+y}{\partial+u}+%26+\frac{\partial+y}{\partial+\upsilon+}\end{bmatrix}\begin{bmatrix}0\\+d\upsilon\end{bmatrix}%3D\begin{bmatrix}\frac{\partial+x}{\partial+\upsilon}d\upsilon\\+\frac{\partial+y}{\partial+\upsilon}d\upsilon\end{bmatrix}\\ )\begin{bmatrix}0\\ d\upsilon\end{bmatrix}=\begin{bmatrix}\frac{\partial x}{\partial u} & \frac{\partial x}{\partial \upsilon }\\ \frac{\partial y}{\partial u} & \frac{\partial y}{\partial \upsilon }\end{bmatrix}\begin{bmatrix}0\\ d\upsilon\end{bmatrix}=\begin{bmatrix}\frac{\partial x}{\partial \upsilon}d\upsilon\\ \frac{\partial y}{\partial \upsilon}d\upsilon\end{bmatrix}\\](https://www.zhihu.com/equation?tex=J%28u%2C%5Cupsilon+%29%5Cbegin%7Bbmatrix%7D0%5C%5C+d%5Cupsilon%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7D+%26+%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7D%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7D+%26+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7D%5Cend%7Bbmatrix%7D%5Cbegin%7Bbmatrix%7D0%5C%5C+d%5Cupsilon%5Cend%7Bbmatrix%7D%3D%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon%7Dd%5Cupsilon%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon%7Dd%5Cupsilon%5Cend%7Bbmatrix%7D%5C%5C)

令 ![dA](https://www.zhihu.com/equation?tex=dA) 代表平行四边形 ![F(https://www.zhihu.com/equation?tex=F(R))](https://www.zhihu.com/equation?tex=F%28R%29) 的面积。因为二阶行列式的行向量所形成的平行四边形面积等于行列式的绝对值。

![dA=\left | det\begin{bmatrix}\frac{\partial x}{\partial u}du &\frac{\partial x}{\partial \upsilon }d\upsilon \\ \frac{\partial y}{\partial u}du & \frac{\partial y}{\partial \upsilon }d\upsilon \end{bmatrix} \right |=\left | det\begin{bmatrix}\frac{\partial x}{\partial u} &\frac{\partial x}{\partial \upsilon } \\ \frac{\partial y}{\partial u} &\frac{\partial y}{\partial \upsilon } \end{bmatrix} \right |dud\upsilon =\left | det~J(https://www.zhihu.com/equation?tex=dA%3D\left+|+det\begin{bmatrix}\frac{\partial+x}{\partial+u}du+%26\frac{\partial+x}{\partial+\upsilon+}d\upsilon+\\+\frac{\partial+y}{\partial+u}du+%26+\frac{\partial+y}{\partial+\upsilon+}d\upsilon+\end{bmatrix}+\right+|%3D\left+|+det\begin{bmatrix}\frac{\partial+x}{\partial+u}+%26\frac{\partial+x}{\partial+\upsilon+}+\\+\frac{\partial+y}{\partial+u}+%26\frac{\partial+y}{\partial+\upsilon+}+\end{bmatrix}+\right+|dud\upsilon+%3D\left+|+det~J(u%2C\upsilon+)+\right+|dud\upsilon+\\ ) \right |dud\upsilon \\](https://www.zhihu.com/equation?tex=dA%3D%5Cleft+%7C+det%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7Ddu+%26%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7Dd%5Cupsilon+%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7Ddu+%26+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7Dd%5Cupsilon+%5Cend%7Bbmatrix%7D+%5Cright+%7C%3D%5Cleft+%7C+det%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+u%7D+%26%5Cfrac%7B%5Cpartial+x%7D%7B%5Cpartial+%5Cupsilon+%7D+%5C%5C+%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+u%7D+%26%5Cfrac%7B%5Cpartial+y%7D%7B%5Cpartial+%5Cupsilon+%7D+%5Cend%7Bbmatrix%7D+%5Cright+%7Cdud%5Cupsilon+%3D%5Cleft+%7C+det~J%28u%2C%5Cupsilon+%29+%5Cright+%7Cdud%5Cupsilon+%5C%5C)

所以，微小区域 ![R](https://www.zhihu.com/equation?tex=R) 经向量函数 ![F](https://www.zhihu.com/equation?tex=F) 映射至 ![F(https://www.zhihu.com/equation?tex=F(R))](https://www.zhihu.com/equation?tex=F%28R%29) ，其面积伸缩了 ![\left | det~J(https://www.zhihu.com/equation?tex=\left+|+det~J(u%2C\upsilon+)+\right+| ) \right |](https://www.zhihu.com/equation?tex=%5Cleft+%7C+det~J%28u%2C%5Cupsilon+%29+%5Cright+%7C) 倍。



- **2.2.3 Jacobian 行列式用途**

Jacobian行列式最主要的应用在多重积分的换元积分法(integration by substitution)。令 ![f:\mathbb{R}^2\rightarrow \mathbb{R}](https://www.zhihu.com/equation?tex=f%3A\mathbb{R}^2\rightarrow+\mathbb{R}) 为一个连续实函数，且 ![x=X(https://www.zhihu.com/equation?tex=x%3DX(u%2C\upsilon+) )](https://www.zhihu.com/equation?tex=x%3DX%28u%2C%5Cupsilon+%29) 和 ![y=Y(https://www.zhihu.com/equation?tex=y%3DY(u%2C\upsilon))](https://www.zhihu.com/equation?tex=y%3DY%28u%2C%5Cupsilon%29) 是一对一可导函数。根据上述面积变化关系，可得到下面的变换积分公式：

![\int_{F(https://www.zhihu.com/equation?tex=\int_{F(R)}f(x%2Cy)dxdy%3D\int_Rf(X(u%2C\upsilon+)%2CY(u%2C\upsilon))\left+|+det~J(u%2C\upsilon+)+\right+|dud\upsilon\\)}f(x,y)dxdy=\int_Rf(X(u,\upsilon ),Y(u,\upsilon))\left | det~J(u,\upsilon ) \right |dud\upsilon\\](https://www.zhihu.com/equation?tex=%5Cint_%7BF%28R%29%7Df%28x%2Cy%29dxdy%3D%5Cint_Rf%28X%28u%2C%5Cupsilon+%29%2CY%28u%2C%5Cupsilon%29%29%5Cleft+%7C+det~J%28u%2C%5Cupsilon+%29+%5Cright+%7Cdud%5Cupsilon%5C%5C)

------

## **3. Jacobian 与 Hessian**

设 ![f:\mathbb{R}^n \rightarrow \mathbb{R}](https://www.zhihu.com/equation?tex=f%3A\mathbb{R}^n+\rightarrow+\mathbb{R}) 为二次可导函数， ![\mathbf{x}=(https://www.zhihu.com/equation?tex=\mathbf{x}%3D(x_1%2C\cdots%2Cx_n)^T\in+\mathbb{R}^n，n\times+n)^T\in \mathbb{R}^n，n\times n](https://www.zhihu.com/equation?tex=%5Cmathbf%7Bx%7D%3D%28x_1%2C%5Ccdots%2Cx_n%29%5ET%5Cin+%5Cmathbb%7BR%7D%5En%EF%BC%8Cn%5Ctimes+n) 阶实对称矩阵 ![H(https://www.zhihu.com/equation?tex=H(\mathbf{x})%3D[h_{ij}(\mathbf{x})])=[h_{ij}(\mathbf{x})]](https://www.zhihu.com/equation?tex=H%28%5Cmathbf%7Bx%7D%29%3D%5Bh_%7Bij%7D%28%5Cmathbf%7Bx%7D%29%5D) 称为 ![f](https://www.zhihu.com/equation?tex=f) 的Hessian。定义入下：

![H(https://www.zhihu.com/equation?tex=H(\mathbf{x})%3D\begin{bmatrix}+\frac{\partial^2+f}{\partial+x_1\partial+x_1}+%26+\frac{\partial^2+f}{\partial+x_1\partial+x_2}+%26\cdots+%26\frac{\partial^2+f}{\partial+x_1\partial+x_n}+\\+\frac{\partial^2+f}{\partial+x_2\partial+x_1}+%26+\frac{\partial^2+f}{\partial+x_2\partial+x_2}+%26\cdots+%26\frac{\partial^2+f}{\partial+x_2\partial+x_n}+\\+\vdots+%26+\vdots+%26\ddots+%26\vdots+\\+\frac{\partial^2+f}{\partial+x_n\partial+x_1}+%26+\frac{\partial^2+f}{\partial+x_n\partial+x_2}+%26\cdots+%26\frac{\partial^2+f}{\partial+x_n\partial+x_n}+\\+\end{bmatrix}\\)=\begin{bmatrix} \frac{\partial^2 f}{\partial x_1\partial x_1} & \frac{\partial^2 f}{\partial x_1\partial x_2} &\cdots &\frac{\partial^2 f}{\partial x_1\partial x_n} \\ \frac{\partial^2 f}{\partial x_2\partial x_1} & \frac{\partial^2 f}{\partial x_2\partial x_2} &\cdots &\frac{\partial^2 f}{\partial x_2\partial x_n} \\ \vdots & \vdots &\ddots &\vdots \\ \frac{\partial^2 f}{\partial x_n\partial x_1} & \frac{\partial^2 f}{\partial x_n\partial x_2} &\cdots &\frac{\partial^2 f}{\partial x_n\partial x_n} \\ \end{bmatrix}\\](https://www.zhihu.com/equation?tex=H%28%5Cmathbf%7Bx%7D%29%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_1%5Cpartial+x_1%7D+%26+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_1%5Cpartial+x_2%7D+%26%5Ccdots+%26%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_1%5Cpartial+x_n%7D+%5C%5C+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_2%5Cpartial+x_1%7D+%26+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_2%5Cpartial+x_2%7D+%26%5Ccdots+%26%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_2%5Cpartial+x_n%7D+%5C%5C+%5Cvdots+%26+%5Cvdots+%26%5Cddots+%26%5Cvdots+%5C%5C+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_n%5Cpartial+x_1%7D+%26+%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_n%5Cpartial+x_2%7D+%26%5Ccdots+%26%5Cfrac%7B%5Cpartial%5E2+f%7D%7B%5Cpartial+x_n%5Cpartial+x_n%7D+%5C%5C+%5Cend%7Bbmatrix%7D%5C%5C)

又 ![f](https://www.zhihu.com/equation?tex=f) 关于 ![\mathbf {x}](https://www.zhihu.com/equation?tex=\mathbf+{x}) 的梯度(gradient) ![\triangledown f(https://www.zhihu.com/equation?tex=\triangledown+f(\mathbf{x}))](https://www.zhihu.com/equation?tex=%5Ctriangledown+f%28%5Cmathbf%7Bx%7D%29) 定义为一个 ![n](https://www.zhihu.com/equation?tex=n) 维向量，其中第 ![i](https://www.zhihu.com/equation?tex=i) 个元素是 ![f](https://www.zhihu.com/equation?tex=f) 对 ![x_i](https://www.zhihu.com/equation?tex=x_i) 的一次偏导数，即：

![\triangledown f(https://www.zhihu.com/equation?tex=\triangledown+f(\mathbf{x})%3D\begin{bmatrix}\frac{\partial+f}{\partial+x_1}\\+\frac{\partial+f}{\partial+x_2}\\\vdots+\\+\frac{\partial+f}{\partial+x_n}\\\end{bmatrix}\\)=\begin{bmatrix}\frac{\partial f}{\partial x_1}\\ \frac{\partial f}{\partial x_2}\\\vdots \\ \frac{\partial f}{\partial x_n}\\\end{bmatrix}\\](https://www.zhihu.com/equation?tex=%5Ctriangledown+f%28%5Cmathbf%7Bx%7D%29%3D%5Cbegin%7Bbmatrix%7D%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_1%7D%5C%5C+%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_2%7D%5C%5C%5Cvdots+%5C%5C+%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_n%7D%5C%5C%5Cend%7Bbmatrix%7D%5C%5C)

梯度 ![\triangledown f:\mathbb{R}^n \rightarrow \mathbb{R}^n](https://www.zhihu.com/equation?tex=\triangledown+f%3A\mathbb{R}^n+\rightarrow+\mathbb{R}^n) 是一个向量函数， ![\triangledown f](https://www.zhihu.com/equation?tex=\triangledown+f) 的Jacobian矩阵如下：

![J(https://www.zhihu.com/equation?tex=J(\mathbf{x})%3D\begin{bmatrix}+\frac{\partial+}{\partial+x_1}(\frac{\partial+f}{\partial+x_1})+%26\frac{\partial+}{\partial+x_2}(\frac{\partial+f}{\partial+x_1})+%26+\cdots+%26\frac{\partial+}{\partial+x_n}(\frac{\partial+f}{\partial+x_1})+\\+\frac{\partial+}{\partial+x_1}(\frac{\partial+f}{\partial+x_2})+%26\frac{\partial+}{\partial+x_2}(\frac{\partial+f}{\partial+x_2})+%26+\cdots+%26\frac{\partial+}{\partial+x_n}(\frac{\partial+f}{\partial+x_2})+\\+\vdots+%26+\vdots+%26+\ddots+%26+\vdots+\\+\frac{\partial+}{\partial+x_1}(\frac{\partial+f}{\partial+x_n})+%26\frac{\partial+}{\partial+x_2}(\frac{\partial+f}{\partial+x_n})+%26+\cdots+%26\frac{\partial+}{\partial+x_n}(\frac{\partial+f}{\partial+x_n})+\\+\end{bmatrix}\\)=\begin{bmatrix} \frac{\partial }{\partial x_1}(\frac{\partial f}{\partial x_1}) &\frac{\partial }{\partial x_2}(\frac{\partial f}{\partial x_1}) & \cdots &\frac{\partial }{\partial x_n}(\frac{\partial f}{\partial x_1}) \\ \frac{\partial }{\partial x_1}(\frac{\partial f}{\partial x_2}) &\frac{\partial }{\partial x_2}(\frac{\partial f}{\partial x_2}) & \cdots &\frac{\partial }{\partial x_n}(\frac{\partial f}{\partial x_2}) \\ \vdots & \vdots & \ddots & \vdots \\ \frac{\partial }{\partial x_1}(\frac{\partial f}{\partial x_n}) &\frac{\partial }{\partial x_2}(\frac{\partial f}{\partial x_n}) & \cdots &\frac{\partial }{\partial x_n}(\frac{\partial f}{\partial x_n}) \\ \end{bmatrix}\\](https://www.zhihu.com/equation?tex=J%28%5Cmathbf%7Bx%7D%29%3D%5Cbegin%7Bbmatrix%7D+%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_1%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_1%7D%29+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_2%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_1%7D%29+%26+%5Ccdots+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_n%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_1%7D%29+%5C%5C+%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_1%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_2%7D%29+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_2%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_2%7D%29+%26+%5Ccdots+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_n%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_2%7D%29+%5C%5C+%5Cvdots+%26+%5Cvdots+%26+%5Cddots+%26+%5Cvdots+%5C%5C+%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_1%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_n%7D%29+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_2%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_n%7D%29+%26+%5Ccdots+%26%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x_n%7D%28%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x_n%7D%29+%5C%5C+%5Cend%7Bbmatrix%7D%5C%5C)

因此证明梯度 ![\triangledown f](https://www.zhihu.com/equation?tex=%5Ctriangledown+f) 的Jacobian即为Hessian矩阵。

------

## **4. 参考**

周志成：《线性代数》，国立交通大学出版社